<% layout("layouts/boilerplate.ejs") %>

<div class="row my-3">
  <div class="card shadow col">
    <div class="card-body">
      <div class="row">
        <h4 class="card-title"><%= foundCourse.title %></h4>
        <a href="/courses/<%=foundCourse._id%>/edit">Edit</a>
      </div>
    </div>
    <ul class="list-group list-group-flush">
      <li class="list-group-item">Year: <%= foundCourse.year %></li>
      <li class="list-group-item">Semester: <%= foundCourse.semester %></li>
      <li class="list-group-item">
        Number of students enrolled: <%= foundCourse.students.length %>
      </li>
    </ul>
  </div>
  <div class="card col">
    <div class="card-body">
      <h4 class="card-title">Subjects</h4>
      <ul class="list-group list-group-flush">
        <% for(let subject of foundCourse.subjects){ %>
        <li class="list-group-item"><%= subject.title %></li>
        <% } %>
      </ul>
    </div>
  </div>
</div>

<div class="row my-3">
  <div class="col-6">
    <h5 class="text-muted my-3 text-center">Students Enrolled</h5>
    <% for(let student of foundCourse.students){ %>
    <div class="card my-2" style="width: 100%">
      <div class="card-body">
        <h7 class="card-title">
          <a href="/students/<%=student._id%>"
            ><%=student.firstName%> <%=student.lastName%></a
          >
        </h7>
        <div class="float-end d-inline text-muted d-none d-lg-block d-xl-block">
          <%= student._id %>
        </div>
      </div>
    </div>
    <% } %>
  </div>

  <div class="col-6">
    <h5 class="text-muted my-3 text-center">Teachers Enrolled</h5>
    <% for(let teacher of foundCourse.teachers){ %>
    <div class="card my-2" style="width: 100%">
      <div class="card-body">
        <h7 class="card-title">
          <a href="/teachers/<%=teacher._id%>">
            <%=teacher.firstName%> <%= teacher.lastName %></a
          >
        </h7>
        <div class="float-end d-inline text-muted d-none d-lg-block d-xl-block">
          <%= teacher.subject.title %>
        </div>
      </div>
    </div>
    <% } %>
  </div>
</div>
