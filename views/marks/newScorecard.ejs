<% layout("layouts/boilerplate.ejs") %>

<div class="container d-flex justify-content-center align-items-center mt-5">
  <div class="row">
    <h3 class="text-muted">Add New Scorecard</h3>
    <form action="/marks" method="POST" novalidate class="validated-form">
      <div class="form-group my-2">
        <label for="course" class="form-label">Course</label>
        <select name="course" id="course" required class="form-select">
          <option value="<%=foundCourse.title%>">
            <%= foundCourse.title %>
          </option>
        </select>
      </div>
      <div class="form-group my-2">
        <label for="description" class="form-label">Description</label>
        <select
          name="description"
          id="description"
          required
          class="form-select"
        >
          <option selected>Select</option>
          <option value="Mid-Sem">Mid-Semester</option>
          <option value="End-Sem">End-Semester</option>
        </select>
      </div>
      <div class="form-group my-2">
        <label for="maxMarks" class="form-label">Maximum Marks</label>
        <input type="number" class="form-control" name="maxMarks" required />
      </div>
      <hr />
      <% for(let student of foundCourse.students){ %>
      <div class="row mb-2">
        <label class="col-10 form-label"
          ><%= student.firstName %> <%= student.lastName %>
          <span class="text-muted"><%= student._id %> </span>
        </label>
        <input
          class="col form-control"
          type="number"
          name="scores[]"
          required
          max="<%=maxMarks%>"
        />
      </div>
      <% } %>
      <button class="btn btn-success mt-3 w-100">Upload Record</button>
    </form>
  </div>
</div>
